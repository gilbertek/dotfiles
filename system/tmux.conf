# **[ TMUX CONFIG: GENERAL                ]********************
set-option  -g   default-terminal   'screen-255color'
set-option  -sa  terminal-overrides ',*256*:Tc'
set-option  -sg  escape-time        10
set-option  -g   set-titles         on
set-option  -g   history-limit      3000
setw        -g   mouse              on
setw        -g   set-clipboard      on
setw        -g   mode-keys          vi

unbind      C-b
set-option  -g   prefix C-a
bind-key    C-a  send-prefix

bind-key    b    send-keys          -R \;           clear-history
bind-key    r    source-file        ~/.tmux.conf \; display-message "Config Reloaded..."
bind-key    K    confirm kill-server
bind-key    X    confirm kill-window

# Copy/paste interop
bind-key    -T   copy-mode-vi v     send-keys -X begin-selection
bind-key    -T   copy-mode-vi y     send-keys -X copy-selection
bind-key    -T   copy-mode-vi r     send-keys -X rectangle-toggle

# **[ TMUX CONFIG: WINDOW NAVIGATION AS VIM ]********************
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# setup | and - for window splitting
unbind %
bind | split-window -h
bind - split-window -v

# **[ TMUX CONFIG: LOCAL/USER CONFIG            ]********************
if-shell "uname | grep -q Darwin" "source ~/.tmux-osx.conf" "source ~/.tmux-linux.conf"

# **[ TMUX UI CONFIG: WINDOW                   ]********************
setw -g base-index         1
setw -g pane-base-index    1

# **[ TMUX UI CONFIG: STATUS BAR                ]********************
set -g status-bg     colour234
set -g status-left   ''
set-window-option -g automatic-rename on
set -g status-right "#[fg=colour241]#(pmset -g batt | awk 'NR==2 { gsub(/;/, \"\"); print $3 }') "
set -ga status-right "#[fg=colour233,bg=colour241] %a %d %b "
set -ga status-right "#[fg=colour248,bg=colour237] %H:%M "

# **[ TMUX UI CONFIG: ACTIVE WINDOW TITLE/COLOR ]********************
set -g status-right-length   100
setw -g window-status-format '#[fg=colour7,bg=colour8] #I #[fg=colour15,bg=colour0] #W '
setw -g window-status-current-format '#[fg=colour7,bg=colour8] #I #[fg=colour0,bg=colour12] #W '

# **[  TMUX UI CONFIG: PANE BORDER COLOR         ]********************
set-option -g pane-border-style        fg=colour235
set-option -g pane-active-border-style fg=colour241

# **[ TMUX UI CONFIG: MESSAGE COLOR              ]********************
set -g message-style fg=white,bg=black

# **[ UTILITIES                                  ]********************
bind-key ? command-prompt -p "Manpage:" "neww 'MANWIDTH=81 man %%'"
