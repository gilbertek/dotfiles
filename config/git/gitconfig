[user]
	name        = Gilbert F. Sewovoe-Ekoue
	email       = gilberts55@hotmail.com
[color "diff"]
  meta        = yellow
[color "branch"]
  current       = blue
  local         = normal
  remote        = cyan
[color "status"]
  changed       = yellow
[alias]
  aliases     = config --get-regexp alias
  st          = status
  cheddar     = commit --amend -CHEAD
  co          = checkout
  cp          = cherry-pick
  put         = push origin HEAD
  fixup       = commit --fixup

  # Squash last N commits together
  # Usage: git squash N
  squash      = "!f(){ git reset --soft HEAD~${1} && git commit --edit -m\"$(git log --format=%B --reverse HEAD..HEAD@{1})\"; };f"
  pruneremote = remote prune origin
  lg          = "log --format='%Cgreen%h %Cred%cr %Creset%s %Cblue%cn'"
  find      = !sh -c 'git ls-files | grep --color=always -i "$@" | less -FRSX' -
  tree = log --pretty=format:'%C(auto)%h%d%Creset %s  %C(auto,bold blue)%an%Creset %C(auto,green)(%ar)%Creset' --graph --all
  add-untracked = !"git status --porcelain | awk '/\\?\\?/{ print $2 }' | xargs git add"
  snapshot = !git stash save "snapshot: $(date)" && git stash apply "stash@{0}"
  last         = log -1 HEAD
  stash-all    = stash save --include-untracked

  # Merge GitHub pull request on top of current branch or the specified branch.
  #   $ git copr 1234          # gets and switches to pr/1234 from origin
  #   $ git copr 789 otherguy  # gets and switches to pr/789 from otherguy remote
  # from https://gist.github.com/gnarf/5406589
  copr = "!f() { git fetch -fu ${2:-origin} refs/pull/$1/head:pr/$1 && \
               git checkout pr/$1; }; f"

  # Merge pull request e.g: git mpr 123 or git mpr 123 master
  mpr = "!f() { \
        declare currentBranch=\"$(git symbolic-ref --short HEAD)\"; \
        declare branch=\"${2:-$currentBranch}\"; \
        if [ $(printf \"%s\" \"$1\" | grep '^[0-9]\\+$' > /dev/null; printf $?) -eq 0 ]; then \
            git fetch origin refs/pull/$1/head:pr/$1 && \
            git checkout -B $branch && \
            git rebase $branch pr/$1 && \
            git checkout -B $branch && \
            git merge --ff-only pr/$1 && \
            git branch -D pr/$1; \
        fi \
    }; f"

  # Delete merged local branches e.g: git bclean <master>
  bclean = "!f() { git branch --merged ${1-master} | grep -v " ${1-master}$" | xargs -r git branch -d; }; f"

  # Delete a branch here and on the origin.
  brdel = "!f() { : git checkout ; git branch -D $@; git push origin --delete $@; }; f"

  # Temporarily ignore a file
  ignore = update-index --assume-unchanged
  unignore = update-index --no-assume-unchanged
  ignored = !git ls-files -v | grep "^[[:lower:]]"
  contributors = shortlog --summary --numbered
[branch]
  autosetuprebase = always
  autosetupmerge  = true
[commit]
  template      = ~/dotfiles/config/git/git-message
[credential]
	helper        = osxkeychain
[core]
  whitespace   = warn
  editor        = nvim
  excludesfile  = ~/dotfiles/config/git/gitignore
	pager = diff-so-fancy | less --tabs=4 -RFX
[merge]
  summary       = true
  tool          = vimdiff
[mergetool "vimdiff"]
  cmd = nvim -d $BASE $LOCAL $REMOTE $MERGED -c '$wincmd w|only|diffoff!'
  # cmd = nvim -d $BASE $LOCAL $REMOTE $MERGED -c '$wincmd w' -c 'wincmd J'
[push]
  default       = tracking
[diff]
  algorithm     = patience
[include]
  path          = ~/.gitconfig.local
[fetch]
  prune         = true
[github]
	user            = gilbertek
