#!/usr/bin/env bash
# Set default channel
# rustup default <stable> | <nightly>

RUST_VERSION=1.38.0

asdf install rust $RUST_VERSION
asdf global rust $RUST_VERSION

rustup self update
rustup update stable
rustup component add clippy

rustup component add rust-src
rustup component add rust-analysis
rustup component add rls-preview

# Racer - code completion for Rust use nightly
cargo uninstall racer 2> /dev/null
rustup toolchain add nightly
cargo +nightly install racer

# Generate a new Rust project by leveraging a pre-existing git repository as a template.
cargo install cargo-generate

# WebAssembly
cargo install wasm-pack
cargo install wasm-gc

# Built in http server
# cargo install https

# Enable tab completion for Bash MACOS
# rustup completions bash > $(brew --prefix)/etc/bash_completion.d/rustup.bash-completion

# Enable tab completion for Bash LINUX
# rustup completions bash > ~/.local/share/bash-completion/completions/rustup

asdf reshim rust

# Test racer on the command line:
racer complete std::io::B
